<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Th·∫£ Th√≠nh Lung Linh ‚ú®üíñ</title>
  <style>
    :root {
      --bg1: #0f0c29;
      --bg2: #302b63;
      --bg3: #24243e;
      --glass: rgba(255, 255, 255, 0.08);
      --glass-strong: rgba(255, 255, 255, 0.18);
      --shadow: 0 10px 30px rgba(0,0,0,0.35);
      --accent: #ff7ad9;
      --accent2: #7adfff;
    }

    /* N·ªÄN GRADIENT + BONG B√ìNG */
    body {
      margin: 0;
      min-height: 100vh;
      color: #f7f7f9;
      background: linear-gradient(120deg, var(--bg1), var(--bg2), var(--bg3));
      background-size: 300% 300%;
      animation: bgShift 20s ease infinite;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
      overflow-x: hidden;
    }
    @keyframes bgShift { 0%{background-position:0% 50%} 50%{background-position:100% 50%} 100%{background-position:0% 50%} }

    .blob {
      position: fixed; inset: auto auto -10% -10%;
      width: 50vmax; height: 50vmax; border-radius: 50%; filter: blur(80px);
      background: radial-gradient(circle at 30% 30%, #ff4d9d55, transparent 60%);
      animation: float 22s ease-in-out infinite;
      pointer-events: none;
    }
    .blob:nth-child(2){left:auto; right:-10%; background: radial-gradient(circle at 70% 30%, #5b8cff55, transparent 60%); animation-duration: 26s;}
    .blob:nth-child(3){top:-10%; left:20%; background: radial-gradient(circle at 50% 50%, #ffd16644, transparent 60%); animation-duration: 30s;}
    @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6%)} }

    /* LAYOUT */
    .wrap { display:grid; place-items:center; min-height:100vh; padding: 32px 16px; }

    .card {
      position: relative;
      width: min(960px, 92vw);
      border-radius: 24px;
      background: linear-gradient(180deg, var(--glass), transparent);
      box-shadow: var(--shadow), 0 0 0 1px rgba(255,255,255,0.06) inset;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      overflow: hidden;
    }

    .glow-ring {
      position:absolute; inset:-2px; border-radius:26px; pointer-events:none;
      background: conic-gradient(from 0deg, var(--accent), var(--accent2), var(--accent));
      filter: blur(18px) saturate(120%);
      opacity: .55; animation: spin 10s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    .grid {
      display: grid; grid-template-columns: 1.2fr 1fr; gap: 24px; align-items: stretch;
    }
    @media (max-width: 860px) { .grid { grid-template-columns: 1fr; } }

    /* ·∫¢NH */
    .photo {
      position: relative; overflow: hidden; border-radius: 20px; margin: 22px;
      transform-style: preserve-3d; perspective: 1200px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.35);
    }
    .photo img { display:block; width:100%; height:100%; object-fit:cover; aspect-ratio: 4/5; }
    .photo::after { content:""; position:absolute; inset:0; background: linear-gradient(180deg, transparent, rgba(0,0,0,.35)); }

    .badge {
      position:absolute; left:14px; top:14px; padding:.45rem .75rem; border-radius:999px;
      background: rgba(255,255,255,0.1); backdrop-filter: blur(6px);
      border: 1px solid rgba(255,255,255,0.25);
      font-weight: 600; letter-spacing:.2px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.25);
    }

    /* TEXT V√Ä HI·ªÜU ·ª®NG NEON */
    h1 {
      margin: 28px 28px 6px; font-size: clamp(26px, 4vw, 44px);
      font-weight: 800; line-height:1.1; letter-spacing: .2px;
      text-shadow: 0 0 6px rgba(255, 213, 255, 0.5);
    }
    .sub { margin: 0 28px 10px; opacity: .85; }

    .typewriter {
      margin: 18px 28px 0; font-size: clamp(18px, 2.6vw, 24px); min-height: 2.2em;
      text-shadow: 0 0 10px rgba(255,122,217,0.45), 0 0 16px rgba(122,223,255,0.35);
    }

    /* N√öT */
    .actions { display:flex; gap:12px; align-items:center; margin: 22px 28px 28px; flex-wrap: wrap; }
    .btn {
      position: relative; border: none; border-radius: 16px; padding: 12px 18px; cursor: pointer;
      font-weight: 700; letter-spacing:.3px; transition: transform .08s ease, box-shadow .2s ease;
      background: linear-gradient(135deg, #ff77d9, #8fd2ff);
      box-shadow: 0 10px 24px rgba(255,119,217,.25), 0 6px 18px rgba(143,210,255,.18);
      color: #111;
    }
    .btn:hover { transform: translateY(-2px); }
    .btn:active { transform: translateY(0); box-shadow:none; }

    .btn-ghost {
      background: transparent; color: #f7f7f9; border: 1px solid rgba(255,255,255,.25);
      box-shadow:none;
    }

    /* SPARKLES (l·∫•p l√°nh) */
    .sparkle { position: fixed; width: 6px; height: 6px; border-radius: 50%;
      background: radial-gradient(circle, #fff, #fff0);
      pointer-events:none; filter: drop-shadow(0 0 6px #fff) drop-shadow(0 0 14px #ffd6ff);
      animation: sparkle .9s ease-out forwards; }
    @keyframes sparkle { from { opacity:1; transform:translateY(0) scale(1)} to {opacity:0; transform:translateY(-20px) scale(0)} }

    /* HEARTS bay */
    .heart { position: fixed; font-size: 20px; pointer-events:none; animation: floatUp 2.6s ease-in forwards; }
    @keyframes floatUp { from { transform: translateY(0) scale(1); opacity:.95 } to { transform: translateY(-120px) scale(1.8); opacity:0 } }

    /* FOOTER TIP */
    footer { text-align:center; opacity:.7; font-size: 13px; margin-top: 10px; padding-bottom: 6px; }
  </style>
</head>
<body>
  <!-- Blobs n·ªÅn m·ªÅm m·ªãn -->
  <div class="blob"></div>
  <div class="blob"></div>
  <div class="blob"></div>

  <div class="wrap">
    <div class="card" id="card">
      <div class="glow-ring"></div>
      <div class="grid">
        <!-- C·ªòT ·∫¢NH -->
        <div class="photo" id="photo">
          <!-- TODO: Thay link ·∫£nh c·ªßa crush/ng∆∞·ªùi ·∫•y v√†o src d∆∞·ªõi ƒë√¢y -->
          <img id="main-photo" src="hi.jpg" alt="·∫¢nh d·ªÖ th∆∞∆°ng" />
          <div class="badge">‚ú® Lung linh qu√° tr·ªùi</div>
        </div>

        <!-- C·ªòT N·ªòI DUNG -->
        <section>
          <h1>Hiiiiiii <span style="color:var(--accent)">B√πi Th·ªã B√≠ch Th·∫£o</span> üíò</h1>
          <div class="typewriter" id="typewriter"></div>

          <div class="actions">
            <button class="btn" id="btnLove">üíñ B·∫•m ƒë·ªÉ nh·∫≠n l·ªùi </button>
            <button class="btn btn-ghost" id="btnNext">‚û°Ô∏è ƒê·ªïi c√¢u </button>
            <input type="file" id="fileInput" accept="image/*" style="display:none" />
          </div>
        </section>
      </div>
    </div>
  </div>

  <script>
    // ====== C√ÅC C√ÇU TH·∫¢ TH√çNH (c√≥ d·∫•u) ======
    const lines = [
      "Em c√≥ m·ªát kh√¥ng? V√¨ su·ªët ng√†y ch·∫°y trong t√¢m tr√≠ anh n√®‚Ä¶",
      "Tr√°i ƒë·∫•t c√≥ 7 t·ªâ ng∆∞·ªùi, m√† anh ch·ªâ ‚Äòth√≠ch‚Äô ƒë√∫ng m·ªôt ng∆∞·ªùi ƒëang ƒë·ªçc d√≤ng n√†y.",
      "Em c√≥ b·∫£n ƒë·ªì kh√¥ng? Anh l·∫°c trong ƒë√¥i m·∫Øt em m·∫•t r·ªìi.",
      "N·∫øu m·ªói l·∫ßn nghƒ© v·ªÅ em l√† m·ªôt v√¨ sao, ch·∫Øc gi·ªù anh c√≥ c·∫£ ng√¢n h√†.",
      "Em c√≥ wifi kh√¥ng? V√¨ anh th·∫•y t·ª•i m√¨nh k·∫øt n·ªëi m·∫°nh qu√° tr·ªùi.",
      "Anh kh√¥ng th√≠ch to√°n, nh∆∞ng c·ª±c gi·ªèi ph√©p c·ªông: Anh + Em = üíû",
      "Ng∆∞·ªùi ta g·ªçi em l√† Google h·∫£? V√¨ em c√≥ m·ªçi th·ª© anh t√¨m." 
    ];

    // ====== HI·ªÜU ·ª®NG G√ï CH·ªÆ ======
    const tw = document.getElementById('typewriter');
    let idx = 0, char = 0, typing = true;
    function typeLoop(){
      const text = lines[idx % lines.length];
      if(typing){
        tw.textContent = text.slice(0, ++char);
        if(char === text.length){ typing = false; setTimeout(typeLoop, 1200); return; }
        setTimeout(typeLoop, 28 + Math.random()*45);
      } else {
        tw.textContent = text.slice(0, --char);
        if(char === 0){ typing = true; idx++; }
        setTimeout(typeLoop, 16 + Math.random()*26);
      }
    }
    typeLoop();

    // ====== L·∫§P L√ÅNH THEO CHU·ªòT ======
    function spawnSparkle(x, y){
      for(let i=0;i<6;i++){
        const s = document.createElement('div');
        s.className = 'sparkle';
        const dx = (Math.random()-0.5)*30; const dy = (Math.random()-0.5)*30;
        s.style.left = (x + dx) + 'px'; s.style.top = (y + dy) + 'px';
        document.body.appendChild(s);
        s.addEventListener('animationend', ()=> s.remove());
      }
    }
    document.addEventListener('mousemove', (e)=>{ if(Math.random()<0.08) spawnSparkle(e.clientX, e.clientY); });
    document.addEventListener('click', (e)=> spawnSparkle(e.clientX, e.clientY));

    // ====== TR√ÅI TIM BAY KHI B·∫§M N√öT ======
    function shootHearts(){
      const count = 24;
      for(let i=0;i<count;i++){
        const h = document.createElement('div');
        h.className='heart';
        h.textContent = ['üíñ','üíò','üíó','üíï','üíì','üíù'][Math.floor(Math.random()*6)];
        const x = window.innerWidth*0.25 + Math.random()*window.innerWidth*0.5; // khu v·ª±c trung t√¢m
        const y = window.innerHeight*0.6 + Math.random()*40;
        h.style.left = x + 'px';
        h.style.top = y + 'px';
        h.style.transform = `translateY(0) scale(${1 + Math.random()*0.6})`;
        document.body.appendChild(h);
        h.addEventListener('animationend', ()=> h.remove());
      }
    }

    document.getElementById('btnLove').addEventListener('click', ()=>{
      shootHearts();
      // ƒê·ªïi ngay sang c√¢u t·ªè t√¨nh ng·ªçt h∆°n
      idx = Math.floor(Math.random()*lines.length);
      typing = true; char = 0;
    });

    // ====== ƒê·ªîI C√ÇU ======
    document.getElementById('btnNext').addEventListener('click', ()=>{
      idx++; typing = true; char = 0;
    });

    // ====== NGHI√äNG 3D THEO CHU·ªòT ======
    const photo = document.getElementById('photo');
    photo.addEventListener('mousemove', (e)=>{
      const rect = photo.getBoundingClientRect();
      const cx = rect.left + rect.width/2, cy = rect.top + rect.height/2;
      const dx = (e.clientX - cx)/rect.width; // -0.5..0.5
      const dy = (e.clientY - cy)/rect.height;
      photo.style.transform = `rotateY(${dx*12}deg) rotateX(${ -dy*12 }deg)`;
    });
    photo.addEventListener('mouseleave', ()=>{ photo.style.transform = 'none'; });

    // ====== ƒê·ªîI ·∫¢NH (LOCAL) ======
    const fileInput = document.getElementById('fileInput');
    const img = document.getElementById('main-photo');
    fileInput.addEventListener('change', (e)=>{
      const file = e.target.files[0];
      if(!file) return;
      const url = URL.createObjectURL(file);
      img.src = url;
    });

    // ====== NH·∫†C N·ªÄN (ch·ªâ ph√°t khi b·∫•m n√∫t l·∫ßn ƒë·∫ßu) ======
    let audio;
    document.getElementById('btnLove').addEventListener('click', ()=>{
      if(!audio){
        audio = new Audio('https://cdn.pixabay.com/download/audio/2022/03/29/audio_8b8cf3f0f1.mp3?filename=lofi-study-112191.mp3');
        audio.volume = 0.35; audio.loop = true; audio.play().catch(()=>{});
      }
    }, { once:false });

    // ====== G·ª¢I √ù: Nh·∫•n ph√≠m L ƒë·ªÉ ƒë·ªïi m√†u vi·ªÅn glow ======
    document.addEventListener('keydown', (e)=>{
      if(e.key.toLowerCase() === 'l'){
        document.documentElement.style.setProperty('--accent', `hsl(${Math.random()*360}, 100%, 75%)`);
        document.documentElement.style.setProperty('--accent2', `hsl(${Math.random()*360}, 100%, 75%)`);
      }
    });
  </script>
</body>
</html>
